<!-- Подключение шаблона страницы -->
{% extends "base.html" %}
<!-- Название вкладки страницы -->
{% block title %}Рейтинг университетов{% endblock title %}
<!-- Заголовок страницы -->
{% block header %}Рейтинг университетов{% endblock header %}
<!-- Контент страницы с основной информацией -->
{% block content_center %}
<div class="row justify-content-center" style="margin-top: 80px;">
    <p class="display-3 text-center">
        Национальный рейтинг университетов от ИНТЕРФАКС
    </p>
</div>

<table class="table table-bordered border-secondary">
    <thead>
        <tr>
            <th scope="col">#</th>
            <th style="margin: 0%; padding: 0%">
                <form action="{% url 'ratings' %}">
                    <input type="hidden" name="search" value="{{ search_query }}">
                    <button type="submit" class="btn btn{% if order != 'name' and order != '-name' %}-outline{% endif %}-btn-outline-secondary col-12 border-0" 
                        style="border-radius: 0px" name="order" value="{% if order == 'name' %}-name{% else %}name{% endif %}">
                        <small class="text-center"><strong>{{ table_header.1.verbose_name}}</strong></small>
                    </button>
                </form>
            </th>
            <th style="margin: 0%; padding: 0%">
                <form action="{% url 'ratings' %}">
                    <input type="hidden" name="search" value="{{ search_query }}">
                    <button type="submit" class="btn btn{% if order != '-rating_summary' and order != 'rating_summary' %}-outline{% endif %}-btn-outline-secondary col-12 border-0" 
                        style="border-radius: 0px" name="order" value="{% if order == '-rating_summary' %}rating_summary{% else %}-rating_summary{% endif %}">
                        <small class="text-center"><strong>{{ table_header.3.verbose_name}}</strong></small>
                    </button>
                </form>
            </th>
            <th style="margin: 0%; padding: 0%">
                <form action="{% url 'ratings' %}">
                    <input type="hidden" name="search" value="{{ search_query }}">
                    <button type="submit" class="btn btn{% if order != '-rating_brand' and order != 'rating_brand' %}-outline{% endif %}-btn-outline-secondary col-12 border-0" 
                        style="border-radius: 0px" name="order" value="{% if order == '-rating_brand' %}rating_brand{% else %}-rating_brand{% endif %}">
                        <small class="text-center"><strong>{{ table_header.4.verbose_name}}</strong></small>
                    </button>
                </form>
            </th>
            <th style="margin: 0%; padding: 0%">
                <form action="{% url 'ratings' %}">
                    <input type="hidden" name="search" value="{{ search_query }}">
                    <button type="submit" class="btn btn{% if order != '-rating_education' and order != 'rating_education' %}-outline{% endif %}-btn-outline-secondary col-12 border-0" 
                        style="border-radius: 0px" name="order" value="{% if order == '-rating_education' %}rating_education{% else %}-rating_education{% endif %}">
                        <small class="text-center"><strong>{{ table_header.5.verbose_name}}</strong></small>
                    </button>
                </form>
            </th>
            <th scope="col"><small>Исследования</small></th>
            <th scope="col"><small>Социализация</small></th>
            <th scope="col"><small>Интернационализация</small></th>
            <th scope="col"><small>Инновации</small></th>
        </tr>
    </thead>
    <tbody>
        {% for university in rating %}
        <tr>
          <th scope="row"><small>{{university.id}}</small></th>
          <td><small>{{university.name}}</small></td>
          <td><small>{{university.rating_summary}}</small></td>
          <td><small>{{university.rating_education}}</small></td>
          <td><small>{{university.rating_brand}}</small></td>
          <td><small>{{university.rating_research}}</small></td>
          <td><small>{{university.rating_socialization}}</small></td>
          <td><small>{{university.rating_internationalization}}</small></td>
          <td><small>{{university.rating_innovation}}</small></td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}